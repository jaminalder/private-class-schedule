<!-- to use the same input format for the date and time on Chrome, Firefox and Safari use yyyy/MM/dd HH:mm
     all other formats end up being saved as american dates,
     e.g. 06/03/2013 will be saved as 3rd of June 2013,
     Europeans expect this to be 6th of March 2013
     Firefox and Safari do currently not fully support HTML5 type="date", "datetime" or "datetime-local" yet
     Chrome on the other hand recognizes it
     Each browser behaves differently
     To be able to use different browsers, use type="text" and a date entry with /
-->

<div ng-controller="LessonFormCtrl">

    <h4 id="lessonFormTitle">{{lessonDetailTitle}}</h4>

    <form name="form" novalidate>

        <div class="control-group input-append">
            <input type="text" ng-model="lessonForm.date" bs-datepicker>
            <button type="button" class="btn" data-toggle="datepicker"><i class="icon-calendar"></i></button>
        </div>

        <div class="controls bootstrap-timepicker">
            <input type="text" ng-model="lessonForm.startTime" bs-timepicker>
        </div>

        <div class="controls bootstrap-timepicker">
            <input type="text" ng-model="lessonForm.endTime" bs-timepicker>
        </div>

        <div class="controls">
            <input class="span4" type="text" ng-model="lessonForm.start" date placeholder="Start yyyy/MM/dd HH:mm"
                   required>
        </div>
        <div class="controls">
            <input class="span4" type="text" ng-model="lessonForm.end" date placeholder="Ende yyyy/MM/dd HH:mm"
                   required>
        </div>

        <div>
            <select multiple ui-select2="select2Options" ng-model="lessonForm.lessonStudentIds">
                <option ng-repeat="student in students" value="{{student.id._id}}">{{student.firstName}} {{student.lastName}}</option>
            </select>
        </div>

        <p>
            <input id="saveLessonButton" ng-click="saveLesson()" class="btn btn-primary span2" type="submit"
                   value="Speichern"
                   ng-disabled="form.$invalid || isUnchanged(lessonForm)">

            <input id="cancelLessonFormButton" ng-click="cancelLessonForm()" class="btn span2" value="Abbrechen"
                   ng-disabled="isUnchanged(lessonForm)">
        </p>
    </form>

</div>